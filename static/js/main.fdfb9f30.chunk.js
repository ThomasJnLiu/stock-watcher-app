(this["webpackJsonpstock-watcher"]=this["webpackJsonpstock-watcher"]||[]).push([[0],{11:function(t,e,c){t.exports={"stock-list-card":"StockListCard_stock-list-card__iScbZ","basic-info":"StockListCard_basic-info__3OPYz"}},12:function(t,e,c){t.exports={main:"App_main__3ZkGI","loading-spinner":"App_loading-spinner__bc1jS"}},22:function(t,e,c){t.exports={"search-form":"Search_search-form__1laBW"}},27:function(t,e,c){},48:function(t,e,c){},49:function(t,e,c){},50:function(t,e,c){"use strict";c.r(e);var n=c(1),r=c.n(n),a=c(21),s=c.n(a),o=(c(27),c(4)),i=c.n(o),u=c(7),j=c(9),b=c(3),d=c(6),f=c.n(d),l=c(22),h=c.n(l),k=c(0),p=function(t){var e=Object(n.useState)(),c=Object(b.a)(e,2),r=c[0],a=c[1],s=function(){var e=Object(u.a)(i.a.mark((function e(c){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),!t.isLoading){e.next=3;break}return e.abrupt("return");case 3:return t.setLoading(!0),e.next=6,f.a.get("https://finnhub.io/api/v1/search?q=".concat(r,"&token=c14ongv48v6st2755it0"));case 6:return n=e.sent,e.next=9,f.a.get("https://finnhub.io/api/v1/quote?symbol=".concat(r,"&token=c14ongv48v6st2755it0"));case 9:a=e.sent,t.addStock({stockName:n.data.result[0],stockPrice:a.data}),t.setLoading(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)("div",{className:h.a["search-form"],children:Object(k.jsxs)("form",{children:[Object(k.jsx)("input",{type:"text",onChange:function(t){return a(t.target.value)}}),Object(k.jsx)("button",{onClick:s,children:"Search"})]})})},O=c(11),m=c.n(O),x=function(t){return Object(k.jsxs)("li",{className:m.a["stock-list-card"],children:[Object(k.jsxs)("div",{className:m.a["basic-info"],children:[Object(k.jsx)("h2",{children:t.description}),"Open: ",t.stockPrice.o,Object(k.jsx)("br",{}),"High: ",t.stockPrice.h,Object(k.jsx)("br",{}),"Low: ",t.stockPrice.l,Object(k.jsx)("br",{})]}),Object(k.jsxs)("h3",{children:["Price: ",t.stockPrice.c]}),Object(k.jsx)("button",{onClick:function(){t.removeStock(t.stockName)},children:"Remove"})]})},v=(c(48),function(t){return Object(k.jsx)("div",{children:t.stockList.length>0&&Object(k.jsx)("ul",{children:t.stockList.map((function(e){return Object(k.jsx)(x,{description:e.stockName.description,stockPrice:e.stockPrice,stockName:e.stockName,removeStock:t.removeStock})}))})})}),g=(c(49),function(){return Object(k.jsx)("header",{children:Object(k.jsx)("h1",{children:"Stock Watcher"})})}),S=c(12),N=c.n(S),_=c.p+"static/media/loadingSpinner.c7d9f081.gif";var P=function(){var t=Object(n.useState)([]),e=Object(b.a)(t,2),c=e[0],r=e[1],a=Object(n.useState)(0),s=Object(b.a)(a,2),o=s[0],d=s[1],l=Object(n.useState)(),h=Object(b.a)(l,2),O=h[0],m=h[1],x=Object(n.useState)(!1),S=Object(b.a)(x,2),P=S[0],L=S[1],y=Object(n.useState)(!0),w=Object(b.a)(y,2),C=(w[0],w[1]),F=new Date,I=function(t,e){r((function(c){var n=Object(j.a)(c);return n[e].stockPrice=t.stockPrice,n}))};return Object(n.useEffect)((function(){setTimeout((function(){if(d((function(t){return t+1})),c.length>0){var t=function(){var t=Object(u.a)(i.a.mark((function t(e){var n,r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f()("https://finnhub.io/api/v1/quote?symbol=".concat(e.stockName.displaySymbol,"&token=c14ongv48v6st2755it0"));case 2:n=t.sent,r={stockName:e.stockName,stockPrice:{c:n.data.c,h:n.data.h,l:n.data.l,o:n.data.o}},a=c.findIndex((function(t){return t.stockName.displaySymbol===r.stockName.displaySymbol})),I(r,a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();c.forEach((function(e){return t(e)}))}C((function(t){return!t})),m(F.getHours()+":"+F.getMinutes()+":"+F.getSeconds())}),1e4)}),[o]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(g,{}),Object(k.jsxs)("div",{className:N.a.main,children:[Object(k.jsx)(p,{addStock:function(t){console.log(t),r((function(e){var c=Object(j.a)(e);return c.push(t),c}))},setLoading:L,isLoading:P}),"last updated at: ",O,P&&Object(k.jsx)("img",{className:N.a["loading-spinner"],src:_,alt:"loading"}),Object(k.jsx)(v,{stockList:c,removeStock:function(t){r((function(e){var c=Object(j.a)(e);return c=c.filter((function(e){return e.stockName!==t}))}))}})]})]})},L=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,51)).then((function(e){var c=e.getCLS,n=e.getFID,r=e.getFCP,a=e.getLCP,s=e.getTTFB;c(t),n(t),r(t),a(t),s(t)}))};s.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(P,{})}),document.getElementById("root")),L()}},[[50,1,2]]]);
//# sourceMappingURL=main.fdfb9f30.chunk.js.map