{"version":3,"sources":["components/StockListCard/StockListCard.module.css","App.module.css","components/Search/Search.module.css","components/Search/Search.js","components/StockListCard/StockListCard.js","components/StockListContainer/StockListContainer.js","components/Header/Header.js","loadingSpinner.gif","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Search","props","useState","userInput","setUserInput","searchHandler","event","a","preventDefault","isLoading","setLoading","axios","get","info","price","addStock","stockName","data","result","stockPrice","className","classes","type","onChange","target","value","placeholder","onClick","StockListCard","description","o","h","l","c","removeStock","id","StockListContainer","stockList","length","map","item","Header","App","userStockList","setUserStockList","setIsLoading","today","Date","curTime","getHours","getMinutes","getSeconds","useEffect","localStorageUserStocks","JSON","parse","localStorage","getItem","stockInfo","alert","some","stock","prevState","updatedStockList","unshift","setItem","stringify","stockIdToRemove","filter","updateStockPrice","index","updateInterval","setInterval","console","log","searchStockPrice","stockQuery","displaySymbol","updatedStockInfo","indexToReplace","findIndex","forEach","userListStock","clearInterval","main","src","loadingSpinner","alt","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5e00517b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"stock-list-card\":\"StockListCard_stock-list-card__iScbZ\",\"basic-info\":\"StockListCard_basic-info__3OPYz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"App_main__3ZkGI\",\"loading-spinner\":\"App_loading-spinner__bc1jS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search-form\":\"Search_search-form__1laBW\"};","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport classes from \"./Search.module.css\";\r\n\r\nconst Search = (props) => {\r\n  const [userInput, setUserInput] = useState();\r\n\r\n  const searchHandler = async (event) => {\r\n    event.preventDefault();\r\n    if (props.isLoading) {\r\n      return;\r\n    }\r\n    props.setLoading(true);\r\n    const info = await axios.get(\r\n      `https://finnhub.io/api/v1/search?q=${userInput}&token=c14ongv48v6st2755it0`\r\n    );\r\n\r\n    const price = await axios.get(\r\n      `https://finnhub.io/api/v1/quote?symbol=${userInput}&token=c14ongv48v6st2755it0`\r\n    );\r\n    props.addStock({\r\n      stockName: info.data.result[0],\r\n      stockPrice: price.data,\r\n    });\r\n    props.setLoading(false);\r\n  };\r\n  return (\r\n    <div className={classes[\"search-form\"]}>\r\n      <form>\r\n        <input\r\n          type=\"text\"\r\n          onChange={(event) => setUserInput(event.target.value)}\r\n          placeholder=\"Enter a stock symbol... (ie AAPL, GME)\"\r\n        />\r\n        <button onClick={searchHandler}>Search</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\nimport classes from \"./StockListCard.module.css\";\r\n\r\nconst StockListCard = (props) => {\r\n  return (\r\n    <li className={classes[\"stock-list-card\"]}>\r\n      <div className={classes[\"basic-info\"]}>\r\n        <h2>{props.description}</h2>\r\n        Open: {props.stockPrice.o}\r\n        <br />\r\n        High: {props.stockPrice.h}\r\n        <br />\r\n        Low: {props.stockPrice.l}\r\n        <br />\r\n      </div>\r\n      <h3>Price: {props.stockPrice.c}</h3>\r\n\r\n      <button\r\n        onClick={() => {\r\n          props.removeStock(props.id);\r\n        }}\r\n      >\r\n        Remove\r\n      </button>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default StockListCard;\r\n","import React from \"react\";\r\nimport StockListCard from \"../StockListCard/StockListCard\";\r\n\r\nconst StockListContainer = (props) => {\r\n  return (\r\n    <div>\r\n      {props.stockList.length > 0 && (\r\n        <ul>\r\n          {props.stockList.map((item) => {\r\n            return (\r\n              <StockListCard\r\n                description={item.stockName.description}\r\n                stockPrice={item.stockPrice}\r\n                stockName={item.stockName}\r\n                removeStock={props.removeStock}\r\n                key={item.stockName.description}\r\n                id={item.stockName.description}\r\n              />\r\n            );\r\n          })}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StockListContainer;\r\n","import React from \"react\";\r\nimport classes from \"./Header.module.css\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header>\r\n      <h1>Stock Watcher</h1>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/loadingSpinner.c7d9f081.gif\";","import { useState, useEffect } from \"react\";\nimport Search from \"./components/Search/Search\";\nimport StockListContainer from \"./components/StockListContainer/StockListContainer\";\nimport Header from \"./components/Header/Header\";\n\nimport classes from \"./App.module.css\";\nimport axios from \"axios\";\n\nimport loadingSpinner from \"./loadingSpinner.gif\";\n// import instance from \"./firebase/instance\";\n\nfunction App() {\n  const [userStockList, setUserStockList] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  let today = new Date();\n  let curTime =\n    today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\n\n  // retrieve saved user stock list from localStorage\n  useEffect(() => {\n    const localStorageUserStocks = JSON.parse(\n      localStorage.getItem(\"userStocks\")\n    );\n    if (localStorageUserStocks === null) {\n      // set value so empty array checking on stocklistcontainer works\n      setUserStockList([]);\n    } else {\n      setUserStockList(localStorageUserStocks);\n    }\n  }, []);\n  const addStock = async (stockInfo) => {\n    const data = {\n      stockName: stockInfo.stockName,\n      stockPrice: stockInfo.stockPrice,\n    };\n    if (userStockList.length > 4) {\n      alert(\"Maximum number of stocks added!\");\n    } else if (\n      // check for duplicates\n      userStockList.some(\n        (stock) =>\n          stock.stockName.description === stockInfo.stockName.description\n      )\n    ) {\n      alert(\"Stock has already been added!\");\n    } else {\n      // add results obj to state array\n      setUserStockList((prevState) => {\n        let updatedStockList = [...prevState];\n\n        updatedStockList.unshift(data);\n\n        localStorage.setItem(\"userStocks\", JSON.stringify(updatedStockList));\n\n        return updatedStockList;\n      });\n    }\n  };\n\n  const removeStock = async (stockIdToRemove) => {\n    setUserStockList((prevState) => {\n      let updatedStockList = [...prevState];\n      updatedStockList = updatedStockList.filter(\n        (item) => item.stockName.description !== stockIdToRemove\n      );\n      localStorage.setItem(\"userStocks\", JSON.stringify(updatedStockList));\n\n      return updatedStockList;\n    });\n  };\n\n  const updateStockPrice = (stockInfo, index) => {\n    setUserStockList((prevState) => {\n      let updatedStockList = [...prevState];\n      updatedStockList[index].stockPrice = stockInfo.stockPrice;\n      return updatedStockList;\n    });\n  };\n\n  useEffect(() => {\n    const updateInterval = setInterval(() => {\n      console.log(\"updating stocks...\");\n      if (userStockList.length > 0) {\n        //function to query all stocks in list to update prices\n        const searchStockPrice = async (stockQuery) => {\n          const price = await axios(\n            `https://finnhub.io/api/v1/quote?symbol=${stockQuery.stockName.displaySymbol}&token=c14ongv48v6st2755it0`\n          );\n          // new price from api being added into new object\n          const updatedStockInfo = {\n            stockName: stockQuery.stockName,\n            stockPrice: {\n              c: price.data.c,\n              h: price.data.h,\n              l: price.data.l,\n              o: price.data.o,\n            },\n          };\n\n          // get index of stock whose price has been updated\n          const indexToReplace = userStockList.findIndex(\n            (stock) =>\n              stock.stockName.displaySymbol ===\n              updatedStockInfo.stockName.displaySymbol\n          );\n\n          updateStockPrice(updatedStockInfo, indexToReplace);\n        };\n\n        userStockList.forEach((userListStock) =>\n          searchStockPrice(userListStock)\n        );\n      }\n    }, 10000);\n\n    // clear interval on unmount or next render, prevents multiple intervals existing at once\n    return () => {\n      clearInterval(updateInterval);\n    };\n  }, [userStockList]);\n\n  return (\n    <>\n      <Header />\n      <div className={classes.main}>\n        <Search\n          addStock={addStock}\n          setLoading={setIsLoading}\n          isLoading={isLoading}\n        />\n        last updated at: {curTime}\n        {isLoading && (\n          <img\n            className={classes[\"loading-spinner\"]}\n            src={loadingSpinner}\n            alt=\"loading\"\n          />\n        )}\n        <StockListContainer\n          stockList={userStockList}\n          removeStock={removeStock}\n        />\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}